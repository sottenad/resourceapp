<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/main.css">

    <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.1.min.js"><\/script>')</script>
    <script src="js/vendor/jquery-ui-1.10.4.custom.min.js"></script>

	<!--Start Libraries-->    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.14/angular.min.js"></script>
    <script src='https://cdn.firebase.com/v0/firebase.js'></script>
    <script src='https://cdn.firebase.com/libs/angularfire/0.7.0/angularfire.min.js'></script>
    <script>
    	$(function(){jQuery.event.props.push('dataTransfer');})
    </script>

</head>
<body ng-app="resourcing">

	<!--Show People-->
    <div class="container">
    	<div class="col-xs-6" ng-controller="peopleCtrl">
    		<h3>People <a class="btn btn-default btn-xs" data-toggle="modal" data-target="#addPersonModal">Add</a></h3>
    			<div ng-model="person" ng-repeat="(key, person) in people | orderBy:orderProp" x-lvl-draggable='true' data-key="{{key}}">
	    			<span class="glyphicon glyphicon-ban-circle" ng-click="removePerson(key)"></span>
    				{{person.firstName}} {{person.lastName}} - <small><em>{{person.type}}</em></small>
    			</div>
    		
    	</div>
    	<div class="col-xs-6" ng-controller="projectCtrl">
    		<h3>Projects <a class="btn btn-default btn-xs" data-toggle="modal" data-target="#addProjectModal">Add</a></h3>
    		<div class="row">
    			<div ng-repeat="(key,project) in projects" class="col-md-4 droptarget" data-key="{{key}}" x-lvl-drop-target='true' x-on-drop="addPersonToProject(dragEl, dropEl)">
    				<h6>{{project.name}}</h6>
    				<small>{{formatPrice(project.budget)}}</small>
    			    <span class="glyphicon glyphicon-ban-circle" ng-click="removeProject(key)"></span>
	    			<span class="glyphicon glyphicon glyphicon-plus-sign" ng-click="add(key)"></span>
	    			<div ng-repeat="(personKey,person) in project.people">
	    				{{people[personKey].firstName}} {{people[personKey].lastName}}
	    				<span class="glyphicon glyphicon-ban-circle" ng-click="removePersonFromProject(personKey,key)"></span>
	    			</div>
    			</div>
    		</div>
    	</div>
    </div> <!-- /container -->   



<!--=============================================-->    	
    <div class="modal fade" id="addPersonModal" ng-controller="peopleCtrl">
	  <div class="modal-dialog modal-sm">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title">Add Person</h4>
	      </div>
	      <div class="modal-body">
    	    <form>
    	    	<div class="form-group">
	    	    	<label>First Name</label>
		    		<input type="text" ng-model="person.firstName" placeholder="First Name" class="form-control"/>
    	    	</div>
	    		<div class="form-group">
		    		<label>Last Name</label>
		    		<input type="text" ng-model="person.lastName" placeholder="Last Name" class="form-control"/>
	    		</div>
	    		<div class="form-group">
	    			<label>Role</label>
		    		<select ng-model="person.type" class="form-control">
		    			<option ng-repeat="type in peopleTypes | orderBy:type" value="{{type}}">{{type}}</option>
		    		</select>
	    		</div>
    		</form>
	      </div>
	      <div class="modal-footer">
		    <button class="btn btn-primary" data-dismiss="modal" ng-click="addPerson()">Add Person</button>
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal --> 
<!--=============================================-->
	<!--Add Project-->
    <div class="modal fade" id="addProjectModal" ng-controller="projectCtrl">
	  <div class="modal-dialog modal-sm">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title">Add Project</h4>
	      </div>
	      <div class="modal-body">
    	    <form>
    	    	<div class="form-group">
	    	    	<label>Project Name</label>
		    		<input type="text" ng-model="project.name" placeholder="Client Name" class="form-control"/>
    	    	</div>
	    		<div class="form-group">
		    		<label>Project Budget <small>($USD)</small></label>
		    		<input type="number" ng-model="project.budget" placeholder="105000" class="form-control"/>
	    		</div>
    		</form>
	      </div>
	      <div class="modal-footer">
		    <button class="btn btn-primary" data-dismiss="modal" ng-click="addProject()">Add Project</button>
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal --> 
<!--=============================================-->	
    
        
    
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

    <!--Start App-->
    <script src="js/vendor/uuid.js"></script>   
    <script src="js/vendor/drag-drop.js"></script>
    
    <script src="js/app.js"></script>
    <script src="js/people.js"></script>
    <script src="js/factories/people.js"></script>
    <script src="js/factories/project.js"></script>
    <script src="js/projects.js"></script>
    

    <script>
        var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
        g.src='//www.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g,s)}(document,'script'));
    </script>
    
</body>
</html>
